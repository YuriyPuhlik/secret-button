<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–õ—é–±–æ–≤–Ω–∞—è –∏–≥—Ä–∞ üíñ</title>
<style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Arial', sans-serif; }
    body { display:flex; justify-content:center; align-items:center; min-height:100vh; background:#ffe6f0; }
    #app { width:100%; max-width:500px; text-align:center; padding:20px; position:relative; }
    #scoreDisplay { font-size:1.5em; margin-bottom:20px; color:#ff1a75; display:none; }
    .screen { display:none; flex-direction:column; justify-content:center; align-items:center; min-height:60vh; }
    .heart-btn, .start-btn { width:100px; height:100px; background:#ff4d94; border-radius:50%; display:flex; justify-content:center; align-items:center; color:white; font-size:1.5em; cursor:pointer; margin:20px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: transform 0.2s; }
    .heart-btn:active, .start-btn:active { transform: scale(1.2); }
    img, video { width:80%; max-width:300px; border-radius:15px; margin:10px 0; box-shadow: 0 5px 10px rgba(0,0,0,0.2);}
    #final-options button { margin:10px; padding:10px 20px; font-size:1em; border:none; border-radius:10px; cursor:pointer; background:#ff80bf; color:white; transition: background 0.2s; }
    #final-options button:hover { background:#ff1a75; }
    #countdown { font-size:1.5em; margin-top:20px; color:#ff3366; }
</style>
</head>
<body>
<div id="app">
    <div id="scoreDisplay">–û—á–∫–∏: 0</div>
</div>

<script>
// ==== –î–ê–ù–ù–´–ï –ò–ì–†–û–í–´–• –≠–ö–†–ê–ù–û–í ====
const screensData = [
    { text: "–ü—Ä–∏–≤–µ—Ç, –º–æ—è –ª—é–±–∏–º–∞—è! üíñ", media: { type: "image", src: "1.png" } },
    { text: "–ü–æ–º–Ω–∏—à—å –Ω–∞—à –ø–µ—Ä–≤—ã–π —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –≤–µ—á–µ—Ä? üòä", media: { type: "video", src: "videos/1.mp4" } },
    { text: "–Ø –ª—é–±–ª—é —Ç–≤–æ–π —Å–º–µ—Ö üòç", media: { type: "image", src: "images/2.jpg" } },
    { text: "–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ —Å —Ç–æ–±–æ–π ‚Äî –∫–∞–∫ –ø—Ä–∞–∑–¥–Ω–∏–∫ üå∏" }, // –ë–µ–∑ –º–µ–¥–∏–∞
    { text: "–ù–∞—à–∏ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ–¥ –¥–æ–∂–¥–µ–º üåßÔ∏è", media: { type: "image", src: "images/3.jpg" } }
    // –î–æ–±–∞–≤—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã
];

// ==== –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====
let currentScreen = 0;
let score = 0;
const app = document.getElementById('app');
const scoreDisplay = document.getElementById('scoreDisplay');
let gameScreens = [];

// ==== –°–û–ó–î–ê–ù–ò–ï –≠–ö–†–ê–ù–ê ====
function createScreen(screen){
    const div = document.createElement('div');
    div.className = 'screen';

    const p = document.createElement('p');
    p.style.fontSize = '1.5em';
    p.style.margin = '10px';
    p.innerText = screen.text;
    div.appendChild(p);

    // –î–æ–±–∞–≤–ª—è–µ–º –º–µ–¥–∏–∞, –µ—Å–ª–∏ –µ—Å—Ç—å
    if(screen.media){
        if(screen.media.type === "image"){
            const img = document.createElement('img');
            img.src = screen.media.src;
            img.alt = "–§–æ—Ç–æ";
            div.appendChild(img);
        } else if(screen.media.type === "video"){
            const video = document.createElement('video');
            video.src = screen.media.src;
            video.controls = true;
            video.autoplay = false;
            video.loop = true;
            div.appendChild(video);
        }
    }

    const btn = document.createElement('div');
    btn.className = 'heart-btn';
    btn.innerText = '‚ù§Ô∏è';
    btn.onclick = () => { 
        score += 5; 
        scoreDisplay.innerText = `–û—á–∫–∏: ${score}`;
        nextScreen();
    };
    div.appendChild(btn);

    return div;
}

// ==== –í–í–û–î–ù–´–ô –≠–ö–†–ê–ù ====
function showIntroScreen(){
    const introDiv = document.createElement('div');
    introDiv.className = 'screen';
    introDiv.style.display = 'flex';
    introDiv.style.flexDirection = 'column';
    introDiv.style.alignItems = 'center';
    introDiv.style.justifyContent = 'center';
    
    const p = document.createElement('p');
    p.style.fontSize = '1.5em';
    p.style.margin = '20px';
    p.innerHTML = `
        –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à—É –º–∏–ª—É—é –∏–≥—Ä—É! üíñ<br>
        –ù–∞–∂–∏–º–∞–π –Ω–∞ ‚ù§Ô∏è –Ω–∞ –∫–∞–∂–¥–æ–º —ç–∫—Ä–∞–Ω–µ, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –æ—á–∫–∏.<br>
        –í –∫–æ–Ω—Ü–µ —Å–º–æ–∂–µ—à—å –æ–±–º–µ–Ω—è—Ç—å –æ—á–∫–∏ –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏!
    `;
    introDiv.appendChild(p);

    const startBtn = document.createElement('div');
    startBtn.className = 'start-btn';
    startBtn.innerText = '–ù–∞—á–∞—Ç—å';
    startBtn.onclick = () => {
        scoreDisplay.style.display = 'block';
        renderGameScreens();
    };
    introDiv.appendChild(startBtn);

    app.appendChild(introDiv);
}

// ==== –†–ï–ù–î–ï–† –ò–ì–†–û–í–´–• –≠–ö–†–ê–ù–û–í ====
function renderGameScreens(){
    document.querySelectorAll('.screen').forEach(el => el.style.display='none');

    if(gameScreens.length === 0){
        screensData.forEach(screen => {
            const s = createScreen(screen);
            app.appendChild(s);
            gameScreens.push(s);
        });
    }

    currentScreen = 0;
    gameScreens[currentScreen].style.display = 'flex';
}

// ==== –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–∫—Ä–∞–Ω—É ====
function nextScreen(){
    gameScreens[currentScreen].style.display='none';
    currentScreen++;
    if(currentScreen < gameScreens.length){
        gameScreens[currentScreen].style.display='flex';
    } else {
        showFinalScreen();
    }
}

// ==== –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –æ–ø—Ü–∏—è–º–∏ ====
function showFinalScreen(){
    document.querySelectorAll('.screen').forEach(el => el.remove());
    scoreDisplay.style.display = 'block';
    scoreDisplay.innerText = `–û—á–∫–∏: ${score}`;

    const finalDiv = document.createElement('div');
    finalDiv.className = 'screen';
    finalDiv.style.display='flex';
    finalDiv.style.flexDirection='column';
    finalDiv.style.alignItems='center';
    finalDiv.style.justifyContent='center';

    const p = document.createElement('p');
    p.style.fontSize='1.5em';
    p.style.margin='20px';
    p.innerText = `–¢—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∞ ${score} –æ—á–∫–æ–≤! üéâ`;
    finalDiv.appendChild(p);

    const optionsDiv = document.createElement('div');
    optionsDiv.id = 'final-options';
    finalDiv.appendChild(optionsDiv);

    const options = [
        { text: "3 —á–∞—Å–∞ –º–∞—Å—Å–∞–∂–∞", cost: 30 },
        { text: "20 –ø–æ—Ü–µ–ª—É–µ–≤", cost: 20 },
        { text: "–°—é—Ä–ø—Ä–∏–∑-—Å—é—Ä–ø—Ä–∏–∑", cost: 25 }
    ];

    options.forEach(opt => {
        const btn = document.createElement('button');
        btn.innerText = `${opt.text} (-${opt.cost} –æ—á–∫–æ–≤)`;
        btn.onclick = () => chooseOption(opt);
        optionsDiv.appendChild(btn);
    });

    app.appendChild(finalDiv);
}

// ==== –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω —Å —Ç–∞–π–º–µ—Ä–æ–º ====
function chooseOption(option){
    document.querySelectorAll('.screen').forEach(el => el.remove());
    scoreDisplay.style.display='block';

    const finalDiv = document.createElement('div');
    finalDiv.className='screen';
    finalDiv.style.display='flex';
    finalDiv.style.flexDirection='column';
    finalDiv.style.alignItems='center';
    finalDiv.style.justifyContent='center';

    const p = document.createElement('p');
    p.style.fontSize='1.5em';
    p.style.margin='20px';
    p.innerHTML = `–¢—ã –≤—ã–±—Ä–∞–ª–∞: ${option.text} ‚ù§Ô∏è<br>–°—á—ë—Ç—á–∏–∫ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–≤–æ–µ–≥–æ –∂–µ–ª–∞–Ω–∏—è!`;
    finalDiv.appendChild(p);

    const countdown = document.createElement('div');
    countdown.id='countdown';
    finalDiv.appendChild(countdown);

    app.appendChild(finalDiv);

    const targetDate = new Date("2026-03-07T00:00:00");
    function updateCountdown(){
        const now = new Date();
        const diff = targetDate - now;
        if(diff<=0){
            countdown.innerText = "–ñ–µ–ª–∞–Ω–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–∏–ª–æ—Å—å! üéâ";
            clearInterval(timer);
            return;
        }
        const days = Math.floor(diff / (1000*60*60*24));
        const hours = Math.floor((diff / (1000*60*60)) % 24);
        const minutes = Math.floor((diff / (1000*60)) % 60);
        const seconds = Math.floor((diff/1000)%60);
        countdown.innerText = `${days} –¥–Ω ${hours} —á ${minutes} –º–∏–Ω ${seconds} —Å–µ–∫`;
    }
    updateCountdown();
    const timer = setInterval(updateCountdown,1000);
}

// ==== –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã ====
scoreDisplay.style.display='none';
showIntroScreen();
</script>
</body>
</html>
